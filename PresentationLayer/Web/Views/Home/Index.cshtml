@model IEnumerable<Phonebook.PresentationLayer.Web.Models.ContactModel>

<div class="row">
    <div class="separator"></div>

    <div class="tableHeaderContainer">
        <div class="tableHeader picture-col">Picture</div>
        <div class="tableHeader">Name</div>
        <div class="tableHeader">Date of birth</div>
    </div>

        @foreach (var contact in Model)
        {
            <a href="@Url.Action("Details","Contact", new { id = contact.Id})">
        
            <div class="tableContainer">
                <div class="tableColl picture-col">
                @if (contact.Picture != null)
                {

                    var base64 = Convert.ToBase64String(contact.Picture);
                    var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                    <div class="profile-picture-container" style="background-image:url(@imgSrc);"></div>
                }
                else
                {
                    <div class="profile-picture-container default-pic"></div>
                }
                </div>
                <div class="tableColl">@contact.Name</div>
                <div class="tableColl">@Convert.ToDateTime(contact.DateOfBirth).ToShortDateString()</div>
            </div>
        </a>
        }
            @Html.ActionLink("Add contact", "Create", "Contact", null, new { @class = "btn btn-block btn-primary" })
</div>